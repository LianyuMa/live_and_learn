<div class="container">
  <!-- Register User -->
  <div [hidden]="submitted||authorized">
    <h1>Register User</h1>
    <form *ngIf="active" (ngSubmit)="onSubmit()" #RegisterForm="ngForm">
      <!-- {{diagnostic}} -->
      <div class="form-group">
        <label for="firstname">First Name</label>
        <input type="text" class="form-control" required [(ngModel)]="model.firstname" ngControl="firstname" #firstname="ngForm" #spy />
        <div [hidden]="firstname.valid || firstname.pristine" class="alert alert-danger">First Name is required</div>
        <!-- <br>TODO: remove this: {{spy.className}} -->
      </div>

      <div class="form-group">
        <label for="lastname">Last Name</label>
        <input type="text" class="form-control" required [(ngModel)]="model.lastname" ngControl="lastname" #lastname="ngForm" />
        <div [hidden]="lastname.valid || lastname.pristine" class="alert alert-danger">Last Name is required</div>
      </div>

      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" class="form-control" required [(ngModel)]="model.email" ngControl="email" #email="ngForm" />
        <div [hidden]="email.valid || email.pristine" class="alert alert-danger">Email Address is required</div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" required [(ngModel)]="model.password" ngControl="password" #password="ngForm" />
        <div [hidden]="password.valid || password.pristine" class="alert alert-danger">Password is required</div>
      </div>

      <button type="submit" class="btn btn-default" [disabled]="!RegisterForm.form.valid" (click)="register(model)">Submit</button>

      <button class="btn btn-default" (click)="submitted=true;clearForm(model)">Go to Login</button>

<!--       <button type="button" class="btn btn-default" (click)="newUser()">New User for Test</button>

      <button type="button" class="btn btn-default" (click)="login(model)">Login for Test</button> -->

<!--       <pre>{{data}}</pre>
      <div>{{authorized}}</div> -->

    </form>
  </div>

  <!-- Login User -->
  <div [hidden]="!submitted||authorized">
    <h1>Login User</h1>
    <form #LoginForm="ngForm" *ngIf="active">
      <div class="form-group">
        <label for="email">Email Address</label>
        <input type="email" class="form-control" required [(ngModel)]="model.email" ngControl="email" #email="ngForm" />
        <div [hidden]="email.valid || email.pristine" class="alert alert-danger">Email Address is required</div>
      </div>

      <div class="form-group">
        <label for="password">Password</label>
        <input type="password" class="form-control" required [(ngModel)]="model.password" ngControl="password" #password="ngForm" />
        <div [hidden]="password.valid || password.pristine" class="alert alert-danger">Password is required</div>
      </div>

      <button type="submit" class="btn btn-default" [disabled]="!LoginForm.form.valid" (click)="login(model)">Submit</button>

      <button class="btn btn-default" (click)="submitted=false;clearForm(model)">Go to Register</button>

    </form>
  </div>

  <div [hidden]="!authorized">
      <h1>Hello world</h1>
  </div>
</div>
